\documentclass[11pt]{article}

\usepackage[left=3cm, right=3cm, top=3cm, bottom=3cm]{geometry}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{ragged2e}
%crossed out elements
\usepackage{cancel}
\usepackage{amssymb}
%lightning symbol
\usepackage{wasysym}
%position tables
\usepackage{placeins}
%use right curly braces
%\usepackage{mathtools}
%place text under sigmas and pi
\usepackage{mathtools}


\newenvironment{rcurly}{\left.\begin{aligned}}{\end{aligned}\right\rbrace}

\begin{document}


\numberwithin{equation}{subsection}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{definition}[theorem]{Defintion}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
%\newcommand{\R}{\mathbb{R}}
%\newcommand{\R}{\mathbb{Z}}
%\newcommand{\R}{\mathbb{C}}
%\begin{theorem}
%\begin{theorem}

\title{Number Theory}
\author{Vinesh Ramgi}
	%\date{}
\maketitle
\newpage
\tableofcontents{}
\newpage
	\section{Introduction/Review}
	\subsection{Introduction}
	Number Theory is the theory of the ring $\mathbb{Z}$ and other related rings. A ring (in this course) is a set $R$ with two binary operations $+$ and $*$ such that:
	\begin{itemize}
		\item ($R$, $+$) is an abelian group
		\item $*$ is associative, commutative and has an identity element $1$
		\item $x(y+z) = xy + xz \hspace{10pt} \forall x,y,z \in \mathbb{R} $

	\end{itemize}
Examples of rings:
	\begin{itemize}
		\item $\mathbb{Z}$ is a ring
		\item Every field is a ring, (e.g. $\mathbb{R}, \mathbb{C}, \mathbb{Q}$)
		\item $\mathbb{Z}/n$ \hspace{10pt} $\mathbb{Z}$ modulo $n$ = \{$0, \dots, n-1$\}
		\item $\mathbb{F}$[X] = \{ polynomials $f(x)$ with coefficients in $\mathbb{F}$


	\end{itemize}
	\subsection{Review}

	\subsubsection{Congruences}
	Let $n$ be a positive integer. Given $x,y \in \mathbb{Z}$, we say $x$ is congruentt to $y$ modulo $n$ if $x-y$ is a multiple of $n$.\\

	$x \equiv y (n)$  \hspace{10pt} or \hspace{10pt} $x \equiv y$ mod $n$
	
	\begin{flushleft}
	%\begin{align*}
		\textbf{E.g} \hspace{10pt} $2 \equiv 12 \hspace{5pt} (10)$\\
		\hspace{42pt}$\equiv  -8 \hspace{5pt} (10)$
	%\end{align*}
	\end{flushleft}
	

	We write $\mathbb{Z}/n$ for the ring of congruency classes modulo $n$, i.e. the elements are integer, with two of them regarded as the same if they are congruent modulo $n$.\\

	Since every integer is congruent to a unique integer in the set $\{0,\dots, n-1\}$, we have $\mathbb{Z}/n = \{0,\dots, n-1\}$.

	An element $x$ of $\mathbb{Z}/n $ is called "invertible" or a "unit" if $\exists y \in \mathbb{Z}/n$ such that $xy \equiv 1 (n)$.

	\begin{theorem}
$x$ is invertible modulo $n$ iff x and n are coprime
	\end{theorem}
	\textbf{Recall} Two numbers are coprime if their highest common factor is 1.

	Here's how we find the inverse of $x$ in $\mathbb{Z}/n$. Since $X$ and $n$ are coprime we can find $h, k \in \mathbb{Z}$ such that $hx+kn = 1 \implies hx = 1 \hspace{5pt} (n)$. So h is the inverse of $x$ modulo $n$.

	\begin{flushleft}
		\textbf{E.g} We'll find the inberse of 7 modulo 25 using Euclid's algorithm

		\begin{align*}
			25 &= 3\times7 + 4   &1=4-1(3) \hspace{15pt}\\
			7 &= 1\times4 + 3    &1= 4-1(7-1(4))&=2(4)-1(7)\\
			4&= 1\times3+1	     &1 = 2(25-3(7)) - 1(7) &= 2(25) - 7(7)
		\end{align*}

		\begin{align*}
			2(25) &- 7(7) = 1 \\
			&-7(7) = 1 \hspace{5pt}(25) \\
			\\(7^{-1}) &= -7= 18 \hspace{5pt} (25) \\
			7\times 18 &= 126 = 1 \hspace{5pt} (25) 
		\end{align*}
	\end{flushleft}

	We'll write $(\mathbb{Z}/n)^{\times}$ for the invertible elements in $\mathbb{Z}/n $\\
\begin{flushleft}
	%\begin{align*}
		\textbf{E.g} \\ $(\mathbb{Z}/3)^{\times}$ = \{ \cancel 0, 1, 2 \}\\ 
			$(\mathbb{Z}/6)^{\times}$ = \{ \cancel 0, 1, \cancel 2, \cancel 3, \cancel4, 5 \} 


	%\end{align*}
\end{flushleft}


\begin{theorem}
	$(\mathbb{Z}/n)^{\times}$ is a group with the operation of multiplicity.
\end{theorem}

	
	
	\subsubsection{Solving Linear Congruences}

Suppose we want to solve $ax\equiv b \hspace{5pt} (n)$ (given $a,b$ and $n$).

\begin{flushleft}
	\textbf{Case 1:} If $a$ is coprime to $n$ then we can find $a^{-1}$ modulo $n$ by Euclid's algorithm,\\ \hspace{40pt} $x \equiv a^{-1}b \hspace{5pt} (n) $


	\textbf{Case 2:} If $a$ is a factor of $n$, then there are two possibilities:\\
	\hspace{40pt} \textbf{2a)} if $a$ is also a factor of $b$ then $ax \equiv b$ \hspace{3pt} $(n)$ is equivalent to $x = \frac{b}{a} \hspace{10pt} (\frac{n}{a})$\\
	\hspace{40pt} \textbf{2b)} if $a$ is not a factor of $b$ then there are no solutions

\end{flushleft}
\newpage 
\begin{flushleft}
	\textbf{E.g.} Solve $5x = 11 \hspace{5pt} (13)$\\
	This is case 1 because 5 and 13 are coprime
	\begin{align*}
		13 &= 2\times5 + 3   &1=(3) -1(2) \\
		5 &= 1\times3 + 2 &1=(3) -1(5-1(3)) = 2(3) -(5)\\
		3 &= 1\times2 + 1 & 1 =2(13 -2(5)) - (5) = 2(13)-5(5) \\
	\end{align*}
	\begin{align*}
		1\equiv& -5(5) \hspace{10pt} (13)\\
		 5^{-1} \equiv& -5 \equiv 8\hspace{10pt} (13)\\
		 \\
		5x\equiv& 11 \hspace{10pt} (13)\\
		x \equiv 8 \times 11 \equiv& 88 \hspace{10pt} (13)\\
		\\
		x \equiv & 10 \hspace{10pt} (13)
	\end{align*}
\end{flushleft}

\begin{flushleft}
	\textbf{E.g.} Solve $7x \equiv 84 \hspace{10pt} (490)$\\
	
	\hspace{25pt} 7 is a factor of 490 so case 2)\\
	\hspace{25pt} 7 is a factor of 84 so case 2a) \\
	\vspace{5pt}
	\hspace{25pt} $7x \equiv 84 \hspace{10pt}(490)$\\
	\hspace{25pt} $x \equiv 12 \hspace{10pt} (70)$
\end{flushleft}

\begin{flushleft}
	\textbf{E.g.} Solve $7x \equiv 85 \hspace{10pt} (490)$\\
	\hspace{25pt} This is case 2b (7 is a factor of 490 but not of 85) $\therefore$ No solutions	    \\
	\vspace{5pt}
	\hspace{25pt} $7x \equiv 85 \hspace{10pt} (490)$\\
	$\implies \hspace{2pt}7x = 85 + 490y $ for some $y \in \mathbb{Z}$\\
	$\implies \hspace{2pt}0 \equiv 1 \hspace{10pt} (7) $
\end{flushleft}


\begin{flushleft}
	\textbf{E.g.} Solve $6x \equiv 3 \hspace{10pt} (21) $\\
	\hspace{22pt} This is neither case 1 nor case 2 but we can rewrite as: \\
	\vspace{5pt}
	\hspace{26pt}$3(2x) \equiv 3 \hspace{10pt} (21)$\\
	\vspace{5pt}
	\hspace{26pt}By case 2 we can solve for $2x \equiv 1 \hspace{10pt} (7) $\\
	\hspace{26pt}but now 2 is invertible modulo 7 so now solve by case 1\\
	\vspace{5pt} 
	\hspace{26pt} $\therefore x\equiv 4 \hspace{10pt} (7)$
\end{flushleft}

\subsection{Chinese Remainder Theorem}
Suppost we know the congruency class of $x$ modulo 10. Then we can work out its congruency class mod 2 and mod 5.\\
\textbf{E.g.} if $x \equiv 7 \hspace{5pt}(10)$, then $x \equiv 1 \hspace{5pt} (2) $ and $x \equiv 2 \hspace{5pt} (5) $  \vspace{5pt}\\
Then the Chinese Remainder Theorem allows us to do the opposite, i.e. if we know $x$ modulo 2 and modulo 5, then we can work out the value of $x$ modulo 10.\\
\newpage
Suppose $n$ \& $m$ are coprime positive integers, let $a \in (\mathbb{Z} / n)$ and $b \in (\mathbb{Z}/m)$ then there is a unique

\hspace{10pt} $x \in (\mathbb{Z}/nm)$ such that $x \equiv a \hspace{10pt} (n)$\\
\hspace*{136pt} $x \equiv b \hspace{10pt} (m)$ \\
\textbf{Proof of existence part:}\\
\vspace*{5pt}Since $n$ \& $m$ are coprime, we can find $h,k \in \mathbb{Z}$ such that $hn + km = 1$.\\
\vspace{5pt}Let $x = hnb + kma$\\
Check that this a solution to both congruences:
	\begin{align*}	
		\hspace{-15em} x &\equiv kma \hspace{10pt} (n) \\
		\hspace{-15em} x &\equiv (1-hn)a \hspace{10pt} (n) \\
		\hspace{-15em} x &\equiv (1)a \hspace{10pt} (n)\\ 
		\hspace{-15em} x &\equiv a \hspace{10pt}(n) 
	\end{align*}
\vspace{5pt}Similarly, this holds for $x \equiv b \hspace{10pt} (m)$.\\
\textbf{E.g.} Solve the simultaneous congruence:
\begin{flushleft}
	\hspace{10pt} $x \equiv 3 \hspace{10pt} (8)$\\
	\hspace{10pt} $x \equiv 4 \hspace{10pt} (5)$
\end{flushleft}
By the Chinese Remainder Theorem, there is unique solution modulo 40. To find the solution we let $x = hnb + kma $. \\ First find $h,k$ by Euclid's algorithm.
	\begin{align*}
		8 &= 1\times5 + 3   &1=(3) -1(2) \\
		5 &= 1\times3 + 2 &1=(3) -1(5-1(3)) = 2(3) -(5)\\
		3 &= 1\times2 + 1 & 1 =2(8 -2(5)) - (5) = 2(8)-5(5) \\
	\end{align*}
	\begin{align*}
		\hspace{-15em}\therefore x &= (2*8*4) - (3*5*3)\\
		\hspace{-15em} x &= 64 - 45 \\ 
		\hspace{-15em} \implies x &\equiv 19 \hspace{10pt} (40) 
	\end{align*}

Remark: We can use the Chinese Remainder Theorem to solvoe a congruence modulo $nm$, by first solving mod $n$ and then mod $m$ and then combining the results.\\
\textbf{E.g.} Solve $x^{2} \equiv 2 \hspace{5pt} (119)$. Note 119 = 7 * 17.\\
By CRT this is equivalent to:
\begin{align*}
	x^{2} & \equiv 2 \hspace{10pt}(7)  & \implies  x&\equiv \pm3 \hspace{10pt} (7)\\
	x^{2} & \equiv 2 \hspace{10pt} (17) & \implies x&\equiv \pm6 \hspace{10pt} (17)
\end{align*}

Now we combine the solutions:
\begin{align*}
	17 & = 2*7+3  &1=&(7) - 2(3)\\
	7 &= 2*3+1   &1 =&(7) - 2(17-2(7))\\
	& &  1=&5(7) -2(17)
\end{align*}
Since 
\begin{align*}
	x &\equiv \pm 3\hspace{10pt}(7)  \hspace{50pt}\text{We get } x \equiv 5*7*(\pm 6) - 2*17*(\pm 3) \\
	x &\equiv \pm 6 \hspace{10pt} (17) \hspace{81pt} x \equiv \pm 11 \text{  or} \pm 45 \hspace{10pt} (119) 
\end{align*}

\subsection{Prime numbers}

\begin{definition}
An integer $p\geq 2 $ is a prime number if the only factors of $p$ are $\pm 1, \pm p$
\end{definition}

We'll write $\mathbb{F}_p$ for $\mathbb{Z}/p$. This is because:
\begin{theorem}
	If p is prime, then $\mathbb{F}_p$ is a field 
\end{theorem}

\begin{proof}
	Need to check that the non-zero elements of $\mathbb{F}_p$ all have inverses.\\
	
	Let $x \in \mathbb{F}_p$ with $x \not \equiv 0 \hspace{7pt}(p)$ i.e. $x$ is not a multiple of $p$\\
	
	$\therefore$ hcf($x,p$) $=1$\\
	
	$\therefore x$ \& $p$ coprime
\end{proof}
\subsection{Fermat's Little Theorem}
\begin{theorem}
	Let $p$ be a prime number. If $x$ is not a multiple of $p$ then $x^{p-1} \equiv 1 \hspace{7pt} (p)$
\end{theorem}

\begin{proof}
	$x \in \mathbb{F}_{p}^{x} = \{1,2,\dots, p-1\}$ a group with $p-1$ elements.

	Let $n$ be the order of $x$ in this group. 
	
	(order of $x$ is smallest $n>0$ such that $x^{n} \equiv 1 \hspace{7pt} (p) )$

	By corollary to Lagrange's Theorem, $p-1$ is a multiple of $n$\\

	$x^n \equiv 1\hspace{7pt} (p) $

	$x^{p-1} \equiv 1 \hspace{7pt} (p)$
\end{proof}
\begin{theorem}
Lagrange's Theorem: If $H$ is a subgroup of a finite group $G$, then $|H|$ is a factor of $|G|$.
\end{theorem}

\begin{corollary}
Order of an element is a factor of $|G|$
\end{corollary}
We can use Fermat's Little Theorem to do calculations.\\
\textbf{E.g.} Calculate $10^{100}$ modulo $19$\\

By Fermat's Little Theorem: $10^{18} \equiv 1 \hspace{7pt} (19)$ 

\begin{align*}
	10^{100} &\equiv  (10^{18})^{5} * 10^{10} \hspace{7pt} (19)\\
	& \equiv  100^{5}\hspace{7pt} (19)\\
	& \equiv  5^5\hspace{7pt} (19) \\
	& \equiv 25 * 125 \equiv 6*11 \equiv 9 \hspace{7pt} (19) 
\end{align*}

Also using Fermat's Little Theorem we can solve congruence of the form $x^a \equiv b\hspace{7pt} (p) $ as long as $p$ prime and $a$ inverible modulo $p-1$

\subsubsection{General method to solve $x^a \equiv b\hspace{7pt} (p)$}


Let
\begin{align*} 
c = a^{-1}\hspace{7pt} (p-1)\\
	ac = 1+ (p-1)r
\end{align*}
Raise both sides of the congruence to power $c$:
\begin{align*}
	\therefore x^{ac}  &\equiv b^{c}\hspace{7pt} (p)\\
	 x^{1+(p-1)r} &\equiv b^{c}\hspace{7pt}(p)\\
	 x &\equiv b^{c}
\end{align*}
So the solution is $x \equiv b^c\hspace{7pt} (p)$\\
\textbf{E.g.} Solve $x^5 \equiv 2\hspace{7pt} (19) $

19 is prime and 5 is coprime to 18.

Find $c = 5^{-1} $ mod $ 18$

\begin{align*}
	18 =& 3*5 +3& 1=& 2*3 - 5&\\
	5 =& 2*3 - 1 & 1=&2(18-3*5) - 5&\\
	& & 1=&2*18 - 7*5&\\
	\\
	&&\therefore 5^{-1} &\equiv -7\hspace{7pt} (18)\\
	&&&\equiv 11\hspace{7pt} (18)\\ 
	\therefore x &\equiv 2^{11}\hspace{7pt} (19)\\
	& \equiv 2048 \hspace{7pt}(19)\\
	& \equiv 15\hspace{7pt} (19)
\end{align*}

\subsection{Fundamental Theorem of Arithmetic}
If $n$ is a positive integer then there is a unique factorisation, $n= p_1p_2\dots p_r$ with $p_i$ prime. "Unique" means up to reordering the primes $p_1$,$\dots$, $p_r$.
Showing that a factorisation exists is easy. For the uniqueness part we use:

\subsubsection{Euclid's Lemma}

\begin{lemma}
Suppose $p$ prime, and $p | ab$. Then $p| a$ or $p|b$.
\end{lemma}
To prove Euclid's lemma we use Bezout's lemma.
\begin{proof}
	Assume $p|ab$ but $p\not|\hspace{5pt}a $. Then hcf($a,p$) = 1
	
	By Bezout's lemma, $\exists h,k $ such that:
	
	$1 =ha + kp$ 

	$b = hab + kpb$\hspace{50pt} Both $hab$ and $kpb$ are multiples of p. \\$\therefore p | b$
\end{proof}

\subsubsection{Checking whether a number is prime}
If $n$ is composite then the smallest factor of $n$ is (apart from 1) is a prime number $p\leq \sqrt{n}$, i.e. to show that $n$ is prime, we just need to show that none of the primes up to $\sqrt{n}$ are factors of n.\\
\textbf{E.g.} Is 199 prime? 

$\sqrt{199} < 15$ since $15^2 = 225$\\
The primes up to 15 are $\cancel 2,\cancel 3,\cancel 5,\cancel 7,\cancel 11,\cancel 13$\hspace{20pt} 199 $\equiv$ 3\hspace{7pt} (7)

\hspace{190pt} 199 $\equiv $ 4\hspace{7pt} (13) 

\hspace{190pt} $\therefore$ 199 is prime

\begin{theorem}
There are infinitely many primes
\end{theorem}

\begin{proof}
Suppose $p_1, \dots, p_n$ are all the primes.

	\hspace{18pt}Let $N = p_1\dots p_n + 1$

	\hspace{18pt}$\therefore N$ has no prime factors \lightning 
\end{proof}
\flushleft{}
Similarly there are infinitely many primes $p \equiv 2 \hspace{7pt} (3)$
\begin{proof}
Assume there are only finitely many primes, call them $p_1,p_2,\dots,p_r$. All other primes\\ 
	\hspace{31pt}	are either 3 or are congruent to 1 mod 3.
	
	\hspace{35pt}Let $N=3p\dots p_{r-1}$. Since $3 \not | \hspace{5pt}N$ and $p_i \not |\hspace{5pt} N $ then all the prime factor of $N$ are 
	
	\hspace{35pt}congruent to 1 mod 3.


	\hspace{35pt}$\therefore N \equiv 1\hspace{7pt} (3) \implies$ because clearly $N \equiv 2\hspace{7pt} (3)$ 
\end{proof}


\newpage
\section{Elementary Number Theory}

\subsection{Euler Totient Function}
Recall $(\mathbb{Z}/n)^\times$ is the group of invertible elements in $\mathbb{Z}/n$.

\textbf{E.g.} $(\mathbb{Z}/6)^\times = \{ 1,6\} $

\hspace{23pt} $(\mathbb{Z}/8)^\times = \{1,3,5,7\}$

These are groups with the multiplication operation, * . The multiplication table for $(\mathbb{Z}/8)^\times$ is given below. 

\centering
	\begin{tabular}{l|llll}
		* & \multicolumn{1}{l}{1} 
		 & \multicolumn{1}{l}{3} 
		 & \multicolumn{1}{l}{5} 
		 & \multicolumn{1}{l}{7} \\ \hline
		1 & 1 & 3 & 5 & 7 \\
		3 & 3 & 1 & 7 & 5 \\
		5 & 5 & 7 & 1 & 3 \\ 
		7 & 7 & 5 & 3 & 1 \\ 
	\end{tabular}


\begin{definition}
	The Euler Totient function is $\phi(n) = |(\mathbb{Z}/n)^\times | $
\end{definition}
\raggedright
\begin{align*}	
	\textbf{E.g.} \hspace{10pt}\phi(6) &= 2 &\hspace{200pt}\\
	  \phi(8) &= 4 &\hspace{400pt}
\end{align*}
If $p$ prime then $(\mathbb{Z}/p)^\times = \{1, \dots, p-1 \}$ so  $\phi(p) = p-1$

\begin{theorem}
	Euler's Theorem- Let $x \in (\mathbb{Z}/n)^\times$ then $x^{\phi(n)} \equiv 1\hspace{7pt} (n) $ 
\end{theorem}
In the case $n=p$ is prime, this is just Fermat's Little Theorem.



\begin{proof}
	Let $d$ be the order of $x$, i.e. $x^{d} \equiv 1 \hspace{7pt} (n) $.
	By a corollary to Lagrange's Theorem, $d$ is a factor of $\phi(n) \implies x^{\phi (n)} \equiv 1 \hspace{7pt} (n)$ 
\end{proof}
We can use Euler's theorem to solve congruences and calculate powers mod $n$. To use the theorem, we need a quick way of calculating $\phi(n) $.

\begin{lemma}
	Let $n=p^a$ where $p$ is prime $a>0$. Then $\phi(n) = (p-1)p^{a-1}$
\end{lemma}
\textbf{E.g.} $\phi(8) = \phi(2^3) = (2-1)2^{3-1} = 4$
\begin{proof}
An integer is coprime to $p^a$ as long as it's not a multiple of $p$.\\
	$\therefore $ The elements of $\mathbb{Z}/p^a$ which are not invertible are the multiples of $p$. $0, p, 2p, \dots, p^a - p$.\\
	There are $p^a-1$ of these:\vspace{10pt}\\
	$\therefore |(\mathbb{Z}/p^a)^\times| = p^a - p^{a-1} = (p-1)p^{a-1}$
\end{proof}


\begin{theorem}
	Let $n$ and $m$ be coprime. Then there is an isomorphism:
	\begin{equation*}
		(\mathbb{Z}/nm)^\times \cong (\mathbb{Z}/n)^\times * (\mathbb{Z}/m)^\times
	\end{equation*}
\end{theorem}
We'll use the theorem before we prove it.\\

\textbf{Remark}: If $G$ and $H$ are groups, $G\times H  = \{ (x,y): x \in G, y \in H \}$, then $G\times H$ is a group with the operation , $(x, y)(x',y') = (xx',yy')$ and $G \times H$ is the "direct product" of $G$ and $H$ 
\begin{corollary}
	If $n$ and $m$ are coprime then $\phi(nm) = \phi(n)\phi(m)$
\end{corollary}
\begin{proof}
	\begin{align*}
		\phi(nm) = | (\mathbb{Z}/n)^\times | &= |(\mathbb{Z}/n)^\times * (\mathbb{Z}/m)^\times |\\
		&= |(\mathbb{Z}/n)^\times| * |(\mathbb{Z}/m)^\times|\\
		&= \phi(n) \phi(m)
	\end{align*}
\end{proof}
\begin{corollary}
	(Corollary of the corollary): Suppose $n = p_{1}^{a_1} \dots p_{r}^{a_r}$ with $p_1, \dots p_r$ distinct primes and $a_i > 0 $. Then 
	\begin{equation*}
		\phi(n) = (p_1 - 1)p^{a_1 - 1} \hspace{2pt}* \dots *\hspace{2pt} (p_r - 1)p_{r}^{a_r -1} 
	\end{equation*}
\end{corollary}

\begin{proof}
	Since $p_1^{a_1}, \dots, p_r^{a_r}$ are coprime,\\
	\begin{align*}
		\phi(n) & = \phi(p_1^{a_1}) \dots \phi(p_r^{a_r})&\text{by the corollary}\\
		& = (p_1 - 1)p_1^{a_1 - 1} \dots (p_r -1)p_r^{a_r-1} &\text{by the lemma} 
	\end{align*}
\end{proof}

\textbf{E.g.} Calculate $\phi(200)$
\begin{align*}
	\phi(200) &= \phi(2^3 * 5^2) &\hspace{300pt}\\
	&= (2-1)2^{3-1} * (5-1)5^{2-1}\\
	& = 4*4*5\\
	& = 80
\end{align*}

\begin{theorem}
	Suppose $n$ and $m$ are coprime, then $(\mathbb{Z}/nm)^\times \cong (\mathbb{Z}/n)^\times * (\mathbb{Z}/m)^\times$\\
	The isomorphism is the map $x \mapsto (x \mod n, x \mod m)$
\end{theorem}

\textbf{E.g.} $n=4 $, $m=5$ 
\begin{align*}
	(\mathbb{Z}/4)^\times &= \{1,3\}\\
	(\mathbb{Z}/5)^\times &= \{1,2,3,4\}\\
	\therefore (\mathbb{Z}/4)^\times * (\mathbb{Z}/5)^\times &= \{ (1,1), (1,2), (1,3), (1,4),\\
	&\hspace{20pt} (3,1), (3,2), (3,3), (3,4)\}\\
	(\mathbb{Z}/20)^\times &= \{1,3,7,9,11,13,17,19\}
\end{align*}
The isomorphism is: 
\begin{align*}
	1&\mapsto(1,1)  &11\mapsto(3,1)\\
	3&\mapsto(3,3)  &13\mapsto(1,3)\\
	7&\mapsto(3,2)  &17\mapsto(1,2)\\
	9&\mapsto(1,4)  &19\mapsto(3,4)
\end{align*}

\begin{proof}
	Let $\Phi: \mathbb{Z}/nm \mapsto \mathbb{Z}/n * \mathbb{Z}/m$\\
	\hspace{30pt} $\Phi(x) = (x\mod n, x \mod m)$ \\
	\hspace{30pt} This is a bijection by the Chinese Remainder Theorem.\\
	\hspace{30pt} We'll next show that $x$ is invertible mod $nm \iff x$ is invertible mod $n$ and mod $m$
	$(\implies)$ Suppose $x$ is invertible mod $nm$ 
	%\vspace{10pt}
	\begin{align*}
		\text{Let } xy &\equiv 1\hspace{7pt}(nm) \hspace{285pt}\\
		\therefore xy & \equiv 1\hspace{7pt} (n)\\
		xy &\equiv 1 \hspace{7pt} (m)
	\end{align*}
	\hspace{34pt} $\therefore x$ invertible mod $n$ and $m$ 

	$(\impliedby) $ Suppose $x$ invertible mod $n$ and $m$
	\begin{align*}
		xa &\equiv 1\hspace{7pt} (n)\\
		xb &\equiv 1\hspace{7pt} (n)\hspace{270pt}
	\end{align*}
	\hspace{36pt}By the Chinese Remainder Theorem, $\exists y$ such that $y \equiv a\hspace{7pt} (n)$\\ 
	$\hspace{281pt} y \equiv b \hspace{7pt} (m)$
\begin{equation*}
\begin{rcurly}
	\therefore xy &\equiv xa \equiv 1\hspace{7pt} (n)\\
	&\equiv xb \equiv 1  \hspace{7pt} (m) \\
\end{rcurly}
	\implies xy \equiv 1 \hspace{7pt}  (nm) \text{    by the Chinese Remainder Theorem} 
\end{equation*}
	We've shown that $\Phi$ gives a bijection between $(\mathbb{Z}/nm)^\times$ and $(\mathbb{Z}/n)^\times$ * $(\mathbb{Z}/m)^\times$. We'll next check that $\Phi (xy) = \Phi (x) \Phi (y)$.\\
	\begin{align*}
		\Phi(xy) &= (xy \mod n, xy \mod m)\\
		& =(x \mod n , x \mod m) * (y \mod n, y \mod m)\\
		&= \Phi (x) \Phi(y)
	\end{align*}
\end{proof}
\subsection{Euler's Theorem}
If $x \in (\mathbb{Z}/n)^\times $ then $x^{\phi{(n)}} \equiv 1\hspace{7pt} (n) $ and $	\phi(p_1^{a_1} \dots p_r^{a_r}) = (p_1-1) p^{a_1 -1} \dots (p_r-1)p_r^{a_r-1}$\\ \vspace{7pt}
\textbf{E.g.} Calculate $7^{135246872002} \mod 10000$ 
\begin{align*}
	&7 \text{ coprime to  10000 so } 7^{\phi(10000)} \equiv 1\hspace{7pt} (10000) \hspace{180pt}\\
	& 10000 = 2^4 *5^4\\
	\therefore &\phi(10000) = (2-1)2^3 * (5-1)*5^3 = 8*500\\
	&7^{4000} \equiv 1 \hspace{7pt}(10000) \implies 7^n \text{ depends only on } n \text{ mod 4000}\\
	&135246872002 \equiv 2 (4000)\\
	\therefore& 7^{135246872002} \equiv 7^2 \equiv 49\hspace{7pt} (10000)
\end{align*}
We can also use Euler's THeorem to solve congruence with powers
\newpage
\subsubsection{Solving equations of the form $x^{a} \equiv b \hspace{7pt} (n)$}


Supose we want to solve $x^a \equiv b\hspace{7pt} (n)$ where $b$ is coprime to $ n$ and $a$ is coprime to $\phi(n)$. Clearly any solution $x$ must be coprime to $n$ by Euler's Theorem $x^{\phi(n)} \equiv 1\hspace{7pt} (n)$.\\
$\therefore$ The congruency class of $x^y \mod n $ depends only $y \mod \phi(n)$ \\ \vspace{7pt}

Let 

\begin{equation*}
	c =a^{-1} \mod \phi(n)
\end{equation*}
Raise both sides of the congruence to power $c$:
\begin{equation*}
	x^{ac} \equiv x^1 \equiv b^c\hspace{7pt} (n) 
\end{equation*}
$\therefore $ The solution is $x \equiv b^c \hspace{7pt} (n)$
\\[1em]


\textbf{E.g.} $x^7 \equiv 3\hspace{7pt}(50) $ 
\\3 is coprime to 50,
\begin{align*}
	50 &= 2*5^2 \\ \implies \phi(50) &= 1*4*5 = 20
\end{align*}
7 is coprime to $\phi(50)$. To solve, we need to find
\begin{align*}
	c &\equiv 7^{-1} \mod \phi(50)\\
	&\equiv 3 \hspace{7pt} (20) \\[1em]
	x &\equiv 3^3 \equiv 27\hspace{7pt} (50) 
\end{align*}


\textbf{E.g.} $x^{27} \equiv 5\hspace{7pt} (123)$\\
5 is coprime to 123,

\begin{align*}
	123 &= 3*41\\
	\implies \phi(123) &= 2*40 = 80
\end{align*}
27 is coprime to 80

To solve, we find $27^{-1} \mod 80$ 
\begin{align*}
	80 &= 3*27 - 1\\
	\implies 1 &= 3*27 - 80 \\[1em]
	27^{-1} &= 3\\[1em]
	x &= 5^3\\
	x &= 125 \equiv 2\hspace{7pt} (123)
\end{align*}

\subsection{Primitive roots}
Recall, let $G$ be a finite group. $G$ is called a cyclic group if $\exists x \in G$ such that, every element in $G$ has the form $x^n$ for some $n \in \mathbb{Z}$, i.e. $G = \{ 1,x,x^2, \dots , x^{n-1}\}$ where $n$ is the order of $x$, equivalentl the order of $x$ is $|G|$. The element $x$ is called a generator of $G$.

\begin{theorem}
	(Gauss' Theorem), For ever prime number $p$, the group $\mathbb{F}^{\times}_{p}$ is cyclic
\end{theorem}
\begin{definition}
	A generator of $\mathbb{F}^{\times}_p$ is called a primitive root. Equivalently, this is an element of order $p-1$
\end{definition}
\textbf{E.g.} $p=7, x=3$ We'll see that 3 is a primitive root modulo 7
\begin{align*}
	\text{Powers of 3 in }F^{\times}_7: && 3^0 =1 && 3^3 \equiv 6 \hspace{7pt}(7) && 3^6 \equiv 1\hspace{7pt} (7)\\
	&& 3^1= 3 && 3^4 \equiv 4 \hspace{7pt}(7) \\
	&& 3^2 \equiv 2\hspace{7pt} (7) &&3^5 \equiv 1 \hspace{7pt} (7)
\end{align*}
so 3 is a primitive root modulo 7.
There is a quicker way to check whether $x$ is a primitive root.

\begin{proposition}
	Let $x \in \mathbb{F}^{\times}_p$, then $x$ is a primitive root modulo $p$ if and only if for every prime factor $q$ of $p-1$:
	\begin{equation*}
		x^{\frac{p-1}{q}} \neq 1\hspace{7pt} (p)
	\end{equation*}
\end{proposition}

\begin{proof}
Assume the second statement is false, so $\exists$ prime factor $q$ of $p-1$ such that:
	\begin{align*}
		&x^{\frac{p-1}{q}} \equiv 1\hspace{7pt} (p) \hspace{0pt} &\therefore \text{order of } x \leq \frac{p-1}{q} < p-1\\
&& \therefore x \text{ is not a primitive root}
	\end{align*}
Conversely, assume $x$ is not a primitive root, so $x$ doe not have order $p-1$. But the order of $x$ is a factor of $p-1$.\\
Suppose the order of $x$ is $\frac{p-1}{d}$, $d>1$.\\

Let $q$ be a prime factor of $d  \implies q | p-1$ \\

	$\frac{p-1}{q}$ is a multiple of $\frac{p-1}{d}$ but $x^{\frac{p-1}{q}} \equiv 1\hspace{7pt} (p) \implies x^{\frac{p-1}{q}} \equiv 1 \hspace{7pt} (p)$

\end{proof}

\textbf{E.g.} $p=29$\\
By the proposition $x$ is a primitive root mod 29 $\iff x^{28/2} \not \equiv 1\hspace{7pt} (29)$ and \\
\hspace{259pt} $x^{28/7} \not \equiv 1 \hspace{7pt} (29)$\\[1em]

\hspace{230pt} $\iff x^{14} \not \equiv 1 \hspace{7pt} (29) $ and\\
\hspace{259pt} $x^4 \not \equiv 1\hspace{7pt} (29)$ 


\begin{align*}
	\text{Try }x=2: &&2^4 &\equiv 16 \not \equiv 1\hspace{7pt} (29)  \\
	&& 2^{14} &\equiv 128^2 \equiv 12^2 \equiv 144 \equiv -1 \hspace{7pt} (29)\\
	\therefore 2 \text{ is a primitive root mod 29}
\end{align*}

Another trick to speed up the calculation:\\
$\mathbb{F}_p$ is a field $\therefore$ every polynomimal of $d$ has no more than $d$ in $\mathbb{F}$ (proved in 2201).\\
\hspace{55pt} $\therefore$ if $x^2 \equiv 1 \hspace{7pt} (p)$ then $x \equiv \pm 1 \hspace{7pt} (p)$
\\[1em]  


This means that checking whether $x^{14} \equiv 1 \hspace{7pt}(29)$ is equivalent to checking whether $x^7 \equiv \pm 1 \hspace{7pt} (29)$.
\\[1em]

\textbf{E.g} 3 is also a primitive root modulo 29

\begin{align*}
	3^2& \equiv 9 \not \equiv \pm 1 \hspace{7pt} (29) &&&&&&&&&\\
	3^4& \equiv 1 \hspace{7pt} (29)\\[1em]
	3^7& \equiv 27^2 * 3 \hspace{7pt} (29)\\
	&\equiv (-2)^2 * 3 \equiv 12 \hspace{7pt} (29)\\
	&\equiv \pm 1 \hspace{7pt}(29) \\[1em]
	&\therefore 3^{14} \not \equiv 1 \hspace{7pt} (29)
\end{align*}

\subsection{Roots of unity and Cyclotomic Polynomials}
A complex number $\zeta$ is called an $n^{th}$ root of unity if $\zeta ^n = 1$. The $n^{th}$ roots of unity are $e^{2\pi i \frac{a}{n}}$ for $a = \{0, 1, \dots, n-1\} $\\
We call $\zeta$ a primitive $n^{th}$ root of unity if $n$ smaller power than $\zeta^n$ is equal to 1, i.e. $\zeta$ has order $n$ in $\mathbb{C}^\times$ if $\zeta$ is not a primitive $n^{th}$ root of unity $\zeta = e^{2\pi i \frac{b}{d}}$ where $b = \{0,\dots, d-1\}$ for $d<n$\\
$\therefore \frac{a}{n} = \frac{b}{d}$\\[1em]
The cancellation happens when $a$ is not coprime to $n$. This shows that the primitive $n^{th}$ of unity are $e^{2\pi i \frac{a}{n}}$, $a \in (\mathbb{Z}/n)^\times$.

\begin{corollary}
	There are exactly $\phi(n)$ primitive $n^{th}$ roots of unity
\end{corollary}
We'll actually prove a more precise version of Gauss' Theorem.
\begin{theorem}
	For every factor $d$ of $p^{-1}$ there are $\phi(d)$ elements in $\mathbb{F}^{\times}_{p}$ of order d.
\end{theorem}
\begin{definition}
	The $n^{th}$ cyclotomic polynomial is:
	\begin{equation*}
		\Phi_{n} (x) = \Pi_{\substack{\text{primtive }\\ n^{th} \text{roots}\\ \text{of unity } \zeta }  }(X- \zeta)  
	\end{equation*}
	i.e $\zeta ^n = 1 $ and no smaller power of $\zeta$ is 1, $\zeta = e^{2 \pi i \frac{a}{n} }, a \in (\mathbb{Z}/n)^\times$
\end{definition}
This has degree $\phi(n)$.\\[1em]
\newpage{}
\textbf{E.g.} n=4\\
Primitive  $4^{th}$ roots of unity are $i,-i$:
\begin{align*}
	\Phi_4(x) &= (x-i)(x-(-i))&&&&&&\\
	&= x^2 + 1
\end{align*}

\begin{lemma}
	For every $n>0$:
	\begin{equation*}
		x^n - 1 = \Pi_{\substack{\text{factors}\\ d \text{ of } n }} \Phi_{d} (x)
	\end{equation*}
\end{lemma}
\textbf{E.g.} Calculate $\Phi_6 (x)$


\begin{align*}
	\text{By the lemma} &&&& x^6 -1 &= \Phi_1 \Phi_2 \Phi_3 \Phi_6 &&&& x^6-1 = (x^3 - 1) \Phi_2 \Phi_6 \\
	&&&& x^3 -1 &= \Phi_1 \Phi_3 
\end{align*}
\begin{align*}
	\therefore \Phi_6 = \frac{x^6-1}{(x^3-1(x+1)} = \frac{x^3+1}{x+1} =x^2-x+1
\end{align*}
Let $p$ be a prime number. A primitive root mod $p$ is an $x \in \mathbb{F}_p^{\times}$, such that $x$ generates $\mathbb{F}^\times_p$. Equivalently order = $p-1$

\subsubsection{How to calculate $\Phi_n(x)$}
\begin{lemma}
	$x^n - 1 = \Pi_{\substack{d|n}} \Phi_d(x)$ 
\end{lemma}

\textbf{E.g.} $n=4$
\begin{align*}
	x^4-1 &= \Phi_1 \Phi_2 \Phi_4 && && \Phi_1 = x-1\\
	&&&&& \Phi_2 = (x-(-1)) = x+1\\
	&&&&& \Phi_4 = (x-i)(x-(-i))= x^2+1\\
	& =(x-1)(x+1)(x^2+1)
\end{align*}

\begin{proof}
	\begin{equation*}
x^n - 1 = \Pi_{\substack{\\\zeta \text{ is an }\\ n^{th} \text{ root of}\\ \text{unity}}} (x- \zeta)
	\end{equation*}
		
		but every $n^{th}$ root of unity is a primitive $d^{th}$ root of unity for some $d|n$.\\
	\begin{equation*}
		x^{n} = \Pi_{\substack{d|n} } (\Pi_{\substack{\text{primitive} \\d^{th} \text{roots} \\ \text{of unity} }}  (x-\zeta) )= \Pi_{d|n} \Phi_x (x)
	\end{equation*}
\end{proof}
\newpage
\textbf{E.g.} Calculate $\Phi_5(x)$
\begin{align*}
	x^5-1  &= \Phi_1(x) \Phi_5(x) &&&&\\
	&=(x-1) \Phi_5(x)\\[1em]
	\Phi_5(x) &= \frac{x^5-1}{x-1} = 1+x+x^2+x^3+x^4 
\end{align*}
More generally if $p$ prime then $x^p-1 = (x-1) \Phi_p(x) \implies \Phi_p(x) = 1+x+\dots +x^{p-1}$

\textbf{E.g.} Calculate $\Phi_8(x)$
\begin{align*}
	x^8-1 &= \Phi_1(x) \Phi_2(x) \Phi_4(x) \Phi_8(x) &&&&&\\[1em]
	x^4-1 &= \Phi_1(x) \Phi_2(x) \Phi_4(x) \implies \Phi_8(x) = \frac{x^8-1}{x^4-1} = x^4+1 
\end{align*} 

\begin{corollary}
	$\Phi_n(x)$ has coefficients in $\mathbb{Z}$
\end{corollary}

\begin{proof}
	$\Phi_n(x)$ = \LARGE{$\frac{x^n-1}{\Pi_{\substack{d|n \\ d\neq n}}\Phi_d(x) }$}\\[0.5em]
	\normalsize
We'll prove the corollary by induction on $n$, clearly true when $n=1$. Assume $\Phi_d$ has integer coefficients $\forall d<n$.

It is proved in Algebra 3 (MATH2201) that, if $f,g \in \mathbb{Z}[X] $ and $g$ monic then $f=qg+r$ where $deg(r) < deg(g)$ and $g,r \in \mathbb{Z}[x]$. \\
Using this, we get that the denominator $\Pi_{\substack{ d|n \\ d \neq n}} \Phi_d (x) $ is a monic polynomial with coefficients in $\mathbb{Z} \implies \Phi_n \in \mathbb{Z}[X].$
\end{proof}

\subsubsection{Gauss' Theorem}
\begin{theorem}
	Let $n$ be a factor of $p-1$, where $p$ is prime. Then there are exactly $\phi(n)$ elements of order $n$ in $\mathbb{F}^\times_p$. These are the roots of $\Phi $ in $\mathbb{F}^\times_p$. In particular there are $\phi(p-1)$ primitive roots.
\end{theorem}

\begin{proof}
sss
\end{proof}




	\end{document}
 
